<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Clocktick by pakastin</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Clocktick</h1>
        <p>Clock-accurate timeout for Node.js and browser</p>

        <p class="view"><a href="https://github.com/pakastin/clocktick">View the Project on GitHub <small>pakastin/clocktick</small></a></p>


        <ul>
          <li><a href="https://github.com/pakastin/clocktick/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/pakastin/clocktick/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/pakastin/clocktick">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="clocktick" class="anchor" href="#clocktick"><span class="octicon octicon-link"></span></a>clocktick</h1>

<p>Clock-accurate timeout for Node.js and browser.
Basically it is identical to setTimeout, but it triggers callback function precisely on every second.</p>

<h2>
<a name="example" class="anchor" href="#accuracy"><span class="octicon octicon-link"></span></a>example</h2>

<p>Tick at <b id="ractive-container"></b> (hh:mm:ss:ms)</p>

<h2>
<a name="documentation" class="anchor" href="#accuracy"><span class="octicon octicon-link"></span></a>documentation</h2>

<p>Read documentation from <a href="http://github.com/pakastin/clocktick">Github</a></p>

      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/pakastin">pakastin</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    <script src="http://cdn.ractivejs.org/latest/ractive.min.js"></script>
    <script>!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.clocktick=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){

    'use strict'

    var dateNow = require('date-now')

    module.exports = clocktick

    function clocktick (callback) {
      var self, args, now, nowRounded, nextTick

      self = this
      args = Array.prototype.slice.call(arguments, 1)
      now = dateNow()
      nowRounded = (now / 1000 | 0) * 1000
      nextTick = 1000 - (now - nowRounded)

      return setTimeout(function () {
        callback && callback.apply(self, args)
      }, nextTick)
    }

    },{"date-now":2}],2:[function(require,module,exports){
    module.exports = Date.now || now

    function now() {
        return new Date().getTime()
    }

    },{}]},{},[1])(1)
    });</script>
    <script>
    var ractive = new Ractive({
      el: '#ractive-container',
      template: '{{timestamp}}'
    })

    clocktick(updateTimestamp)

    function updateTimestamp () {
      var now = new Date()
      var hours = ('0' + now.getHours()).slice(-2)
      var minutes = ('0' + now.getMinutes()).slice(-2)
      var seconds = ('0' + now.getSeconds()).slice(-2)
      var milliseconds = ('00' + now.getMilliseconds()).slice(-3)
      var timestamp = hours + ':' + minutes + ':' + seconds + ':' + milliseconds

      ractive.set('timestamp', timestamp)
      clocktick(updateTimestamp)
    }
    </script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-54216829-1', 'auto');
      ga('send', 'pageview');

    </script>
  </body>
</html>
